---
interface Props {
  href: string;
  title: string;
  description: string;
  rules: string;
  concepts: string[];
  compact?: boolean;
}

const { href, title, description, rules, concepts, compact = false } = Astro.props;
---
<a href={href} class:list={["doc-card !grid gap-x-6 gap-y-0", compact ? "grid-cols-1" : "grid-cols-1 sm:grid-cols-2"]}>
  <div class="col-span-full flex items-baseline justify-between gap-4">
    <h2>{title}</h2>
    <span class="doc-card-link shrink-0 !mt-0">Build it &rarr;</span>
  </div>
  <p class="col-span-full !text-[var(--text-secondary)] !mb-4" set:html={description} />
  <ul class="self-center list-disc !pl-5 !mb-6 text-[13px] leading-[1.8] !text-[var(--text-secondary)]">
    {concepts.map((c) => <li>{c}</li>)}
  </ul>
  {!compact && (
    <div
      class="self-start overflow-x-auto min-w-0 hidden sm:block !mb-6 font-[var(--mono)] text-xs leading-[1.8] !p-4 bg-[var(--bg)] border border-[var(--border)] rounded-md whitespace-pre [&_.kw]:text-[var(--accent-text)] [&_.str]:text-[var(--green)]"
      set:html={rules}
    />
  )}
</a>
